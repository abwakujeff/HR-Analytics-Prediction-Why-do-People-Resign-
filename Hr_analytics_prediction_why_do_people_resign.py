# -*- coding: utf-8 -*-
"""Copy of HR Analytics Prediction: Why do People Resign?

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/152YUYipu3CIqHRdKNv4zY3pkIPgJB1wa
"""

import os
import sys
from tempfile import NamedTemporaryFile
from urllib.request import urlopen
from urllib.parse import unquote, urlparse
from urllib.error import HTTPError
from zipfile import ZipFile
import tarfile
import shutil

CHUNK_SIZE = 40960
DATA_SOURCE_MAPPING = 'ibm-hr-analytics-attrition-dataset:https%3A%2F%2Fstorage.googleapis.com%2Fkaggle-data-sets%2F1067%2F1925%2Fbundle%2Farchive.zip%3FX-Goog-Algorithm%3DGOOG4-RSA-SHA256%26X-Goog-Credential%3Dgcp-kaggle-com%2540kaggle-161607.iam.gserviceaccount.com%252F20240811%252Fauto%252Fstorage%252Fgoog4_request%26X-Goog-Date%3D20240811T201907Z%26X-Goog-Expires%3D259200%26X-Goog-SignedHeaders%3Dhost%26X-Goog-Signature%3D26bb67a3ba88a9db36883ccfedd7059248f83c42bf50e74acc0ec8efd6b9e3e8e6c3dad7aa250ea3b9c42474e3e22f208094546c796da6c46ada634d569e4543eb5828ce2da60db1a7bee9c9eaf49bbb4805a83fbef0e306027e753ae964a38414b805d64136e532f59865b8ea1c0b5c134ccc16c973668f49404ab3b3e9ed07d455ffa26fc24d204fcb855804601b821ca6e96ef3e644c6ee642a69e9be956a0a94b5d2438e31e7c77b15e43e0b6d02debfbeeaeeff9004481524085f011acd597765e8e748c27de5b2a40b99b13f6e85e29890c377843c0c7c46d8958cb0050853ce1687024f79a4197baccb6ae1288501cd9cc5247b71a075bc38bda5cacb'

KAGGLE_INPUT_PATH='/kaggle/input'
KAGGLE_WORKING_PATH='/kaggle/working'
KAGGLE_SYMLINK='kaggle'

!umount /kaggle/input/ 2> /dev/null
shutil.rmtree('/kaggle/input', ignore_errors=True)
os.makedirs(KAGGLE_INPUT_PATH, 0o777, exist_ok=True)
os.makedirs(KAGGLE_WORKING_PATH, 0o777, exist_ok=True)

try:
  os.symlink(KAGGLE_INPUT_PATH, os.path.join("..", 'input'), target_is_directory=True)
except FileExistsError:
  pass
try:
  os.symlink(KAGGLE_WORKING_PATH, os.path.join("..", 'working'), target_is_directory=True)
except FileExistsError:
  pass

for data_source_mapping in DATA_SOURCE_MAPPING.split(','):
    directory, download_url_encoded = data_source_mapping.split(':')
    download_url = unquote(download_url_encoded)
    filename = urlparse(download_url).path
    destination_path = os.path.join(KAGGLE_INPUT_PATH, directory)
    try:
        with urlopen(download_url) as fileres, NamedTemporaryFile() as tfile:
            total_length = fileres.headers['content-length']
            print(f'Downloading {directory}, {total_length} bytes compressed')
            dl = 0
            data = fileres.read(CHUNK_SIZE)
            while len(data) > 0:
                dl += len(data)
                tfile.write(data)
                done = int(50 * dl / int(total_length))
                sys.stdout.write(f"\r[{'=' * done}{' ' * (50-done)}] {dl} bytes downloaded")
                sys.stdout.flush()
                data = fileres.read(CHUNK_SIZE)
            if filename.endswith('.zip'):
              with ZipFile(tfile) as zfile:
                zfile.extractall(destination_path)
            else:
              with tarfile.open(tfile.name) as tarfile:
                tarfile.extractall(destination_path)
            print(f'\nDownloaded and uncompressed: {directory}')
    except HTTPError as e:
        print(f'Failed to load (likely expired) {download_url} to path {destination_path}')
        continue
    except OSError as e:
        print(f'Failed to load {download_url} to path {destination_path}')
        continue

print('Data source import complete.')

"""# HR Analytics

![image.png](attachment:image.png)

# An Introduction

**Definition** HR analytics is the process of collecting and analyzing Human Resource (HR) data in order to improve an organization’s workforce performance. The process can also be referred to as talent analytics, people analytics, or even workforce analytics.
This method of data analysis takes data that is routinely collected by HR and correlates it to HR and organizational objectives. Doing so provides measured evidence of how HR initiatives are contributing to the organization’s goals and strategies.

**Need of HR Analytics** Most organizations already have data that is routinely collected, so why the need for a specialized form of analytics? Can HR not simply look at the data they already have?
Unfortunately, raw data on its own cannot actually provide any useful insight. It would be like looking at a large spreadsheet full of numbers and words.
Once organized, compared and analyzed, this raw data provides useful insight.They can help answer questions like:

* What patterns can be revealed in employee turnover?
* How long does it take to hire employees?
* What amount of investment is needed to get employees up to a fully productive speed?
* Which of our employees are most likely to leave within the year?
* Are learning and development initiatives having an impact on employee performance?

**The process of HR Analytics**

HR Analytics is made up of several components that feed into each other.

* To gain the problem-solving insights that HR Analytics promises, data must first be collected.
* The data then needs to be monitored and measured against other data, such as historical information, norms or averages.
* This helps identify trends or patterns. It is at this point that the results can be analyzed at the analytical stage.
* The final step is to apply insight to organizational decisions.

So lets start with our analysis!!!

# Importing the dataset

![](https://www.reviewob.com/wp-content/uploads/2019/11/11-20-19-multitasking-768x512.jpg)
"""

# This Python 3 environment comes with many helpful analytics libraries installed
# It is defined by the kaggle/python Docker image: https://github.com/kaggle/docker-python
# For example, here's several helpful packages to load

import numpy as np # linear algebra
import pandas as pd # data processing, CSV file I/O (e.g. pd.read_csv)

# Input data files are available in the read-only "../input/" directory
# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory

import os
for dirname, _, filenames in os.walk('/kaggle/input'):
    for filename in filenames:
        print(os.path.join(dirname, filename))

pd.options.display.max_columns = None

import matplotlib.pyplot as plt
import seaborn as sns
import plotly.express as px

from sklearn.model_selection import train_test_split
from sklearn.linear_model import LogisticRegression
# You can write up to 20GB to the current directory (/kaggle/working/) that gets preserved as output when you create a version using "Save & Run All"
# You can also write temporary files to /kaggle/temp/, but they won't be saved outside of the current session

"""# Reading the file

![](https://www.thoughtco.com/thmb/N1-tvJ_ZzUV08zOAltsK71WKmsM=/4352x3264/smart/filters:no_upscale()/Getty_deep_reading-587879771-56ec4d323df78ce5f834fc56.jpg)
"""

data=pd.read_csv('/kaggle/input/ibm-hr-analytics-attrition-dataset/WA_Fn-UseC_-HR-Employee-Attrition.csv')

"""# Checking the data

![](data:image/jpeg;base64,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)

**Taking a glance at the data**
"""

data.head()

"""**Taking a glance at the columns**

**Taking a glance at the datatypes**
"""

data.dtypes

"""**Taking a glance at the null values in the data**"""

data.isnull().sum()

"""# Analysis

![](https://www.opexengine.com/wp-content/uploads/2020/01/Financial-Analysis.png)

# How is attrition dependent on Age?

![image.png](attachment:image.png)
"""

age_att=data.groupby(['Age','Attrition']).apply(lambda x:x['DailyRate'].count()).reset_index(name='Counts')
px.line(age_att,x='Age',y='Counts',color='Attrition',title='Agewise Counts of People in an Organization')

"""**Observation** As seen in the chart above, the attrition is maximum between the age groups 28-32. The attrition rate keeps on falling with increasing age, as people look after stability in their jobs at these point of times. Also at a very younger age, i.e. from 18-20, the chances of an employee leaving the organization is far more- since they are exploring at that point of time. It reaches a break even point at the age of 21

# Is income the main factor towards employee attrition?

![](https://bsmedia.business-standard.com/_media/bs/img/article/2019-07/11/full/1562867540-6.jpg)
"""

rate_att=data.groupby(['MonthlyIncome','Attrition']).apply(lambda x:x['MonthlyIncome'].count()).reset_index(name='Counts')
rate_att['MonthlyIncome']=round(rate_att['MonthlyIncome'],-3)
rate_att=rate_att.groupby(['MonthlyIncome','Attrition']).apply(lambda x:x['MonthlyIncome'].count()).reset_index(name='Counts')
fig=px.line(rate_att,x='MonthlyIncome',y='Counts',color='Attrition',title='Monthly Income basis counts of People in an Organization')
fig.show()

"""**Observation** As seen in the above chart, the attrition rate is evidently high at very low income levels- less than 5k monthly. This decreases further- but a minor spike is noticed aorund 10k- indicating the middle class liveliood. They tend to shift towards a better standard of living, and hence move to a different job. When the monthly income is pretty decent, the chances of an employee leaving the organization is low- as seen by the flat line

# Does the Department of work impact attrition?

![](https://assets.publishing.service.gov.uk/government/uploads/system/uploads/image_data/file/75003/single-departmental-plan.png)
"""

dept_att=data.groupby(['Department','Attrition']).apply(lambda x:x['DailyRate'].count()).reset_index(name='Counts')
fig=px.bar(dept_att,x='Department',y='Counts',color='Attrition',title='Department wise Counts of People in an Organization')
fig.show()

"""**Observations** This data comprises of only 3 major departments- among which Sales department has the highest attrition rates (25.84%), followed by the Human Resource Department (19.05%). Research and Development has the least attrition rates, that suggests the stability and content of the department as can be seen from the chart above(13.83%).

# How does the environment satisfaction impact attrition?

![](https://www.questionpro.com/blog/wp-content/uploads/2017/11/Employee-Satisfaction_1.jpg)
"""

sats_att=data.groupby(['EnvironmentSatisfaction','Attrition']).apply(lambda x:x['DailyRate'].count()).reset_index(name='Counts')
px.area(sats_att,x='EnvironmentSatisfaction',y='Counts',color='Attrition',title='Environment Satisfaction level Counts of People in an Organization')

"""**Observation** In the satisfaction Level 1-2, the chances of peope leaving the organization slightly decreases. This is indicative of the better hopes with which people stay in an organization. However, as we move from 2-3, people tend to move on to get better opportunities and experiences. The attrition rate is almost stagnant for the higher satisfaction levels.

# How does self Job Satisfaction impact the Attrition?

![](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUvDbSe8M4DCfpCtdfMZtf9zJAQJD25WSHmA&usqp=CAU)
"""

jsats_att=data.groupby(['JobSatisfaction','Attrition']).apply(lambda x:x['DailyRate'].count()).reset_index(name='Counts')
px.area(jsats_att,x='JobSatisfaction',y='Counts',color='Attrition',title='Job Satisfaction level Counts of People in an Organization')

"""**Observation** With an increasing job satisfaction, the attrition rates decrease as can be seen in the chart above. Also from range 1-2 range we can infer (as seen above in Environment Satisfaction), the attrition level falls, but raises from 2-3, where the people tend to coose better opportunities.

# Does company stocks for employees impact attrition?

![](https://images.moneycontrol.com/static-mcnews/2020/01/Sensex_BSE_NSE_Stock-market-770x433.png)
"""

stock_att=data.groupby(['StockOptionLevel','Attrition']).apply(lambda x:x['DailyRate'].count()).reset_index(name='Counts')
px.bar(stock_att,x='StockOptionLevel',y='Counts',color='Attrition',title='Stock facilities level wise People in an Organization')

"""**Observation** The tendency of employees to leave the organization is much more when the stock availing options are limited. Since the stocks constitute to a huge amount of money while staying for a few years, people do not want to lose that opportunity. People with very limited/no stcok options have a freedom to leave the organization at will.

# How does Work Life Balance impact the overall attrition rates?

![](data:image/jpeg;base64,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)
"""

wlb_att=data.groupby(['WorkLifeBalance','Attrition']).apply(lambda x:x['DailyRate'].count()).reset_index(name='Counts')
px.bar(wlb_att,x='WorkLifeBalance',y='Counts',color='Attrition',title='Work Life Balance level Counts of People in an Organization')

"""**Observation** People with poor levels of Work life balance have adjusted themselves to their jobs, but as seen for the above parameters with a better work life score, people are more accustomed to the better life and want to go for an attrition more. But this trend perishes when the work life balance is really good, and people are satisfied with the work they are doing

# How does work experience affect attrition?

![](https://m.jagranjosh.com/imported/images/E/Articles/imp-of-work-ex.jpg)
"""

ncwrd_att=data.groupby(['NumCompaniesWorked','Attrition']).apply(lambda x:x['DailyRate'].count()).reset_index(name='Counts')
px.area(ncwrd_att,x='NumCompaniesWorked',y='Counts',color='Attrition',title='Work Experience level Counts of People in an Organization')

"""**Observations** As seen from the chart above, clearly, employees who started their career with the company- or have switched to the company in the initial years of their career, have a higher chances of leaving the organization to a different company. People who have gained much experience- working in multiple companies tend to stay in the company they join.

# How does Work duration in current role impact Attrition?

![](https://thumbor.forbes.com/thumbor/fit-in/1200x0/filters%3Aformat%28jpg%29/https%3A%2F%2Fspecials-images.forbesimg.com%2Fdam%2Fimageserve%2F1047505244%2F0x0.jpg%3Ffit%3Dscale)
"""

yrscr_att=data.groupby(['YearsInCurrentRole','Attrition']).apply(lambda x:x['DailyRate'].count()).reset_index(name='Counts')
px.line(yrscr_att,x='YearsInCurrentRole',y='Counts',color='Attrition',title='Counts of People working for years in an Organization')

"""**Observation** We have seen people are more prone to leave the organization in the starting years on their role. When people are in the same role for a long period of time, they tend to stay longer for moving in an upward role.

# Does Hike percentage impact Attrition?

![](https://m.jagranjosh.com/imported/images/E/Articles/5-simple-ways-to-ask.jpg)
"""

hike_att=data.groupby(['PercentSalaryHike','Attrition']).apply(lambda x:x['DailyRate'].count()).reset_index(name='Counts')
px.line(hike_att,x='PercentSalaryHike',y='Counts',color='Attrition',title='Count of Hike Percentages people receive in an Organization')

"""**Observation** Higher hikes motivate people to work better, and stay in the organization. Hence we see the chances of an employee leaving the organization where the hike is lower, is much more than a company that gives a good hike.

# Are managers a reason of people resigning??

![](https://www.mtdtraining.com/wp-content/uploads/2015/04/Angry-worker-shouting-at-colleague.jpg)
"""

man_att=data.groupby(['YearsWithCurrManager','Attrition']).apply(lambda x:x['DailyRate'].count()).reset_index(name='Counts')
px.line(man_att,x='YearsWithCurrManager',y='Counts',color='Attrition',title='Count of people spending years with a Manager in an Organization')

"""**Observation** We notice 3 major spikes in the attrition rate, when we are analyzing the relationship of an employee with their manager. At the very start, where the time spent with the manager is relatively less- people tend to leave their jobs- considering their relationship with their previous managers. At an average span of 2 years, when employees feel they need an improvement, they also tend to go for a change.
When the time spent with the manager is slightly higher (about 7 years)- people tend to find their career progression stagnant, and tend to go for a change. But when the relative time spend with a manager is very high- people are satisfied with their work. Hence the chances of an employee resigning then is significantly low.

# Prediction- Considering all the inputs!

Lets try to predict for all the given inputs, how accurately can we we predict wether an employee will be staying in the organization or resigning from it.

Algorithm applied: Logistic Regression
"""

X=data[['Age', 'DailyRate',
       'DistanceFromHome', 'Education', 'EnvironmentSatisfaction', 'HourlyRate',
       'JobInvolvement', 'JobLevel', 'JobSatisfaction',
        'MonthlyIncome', 'MonthlyRate', 'NumCompaniesWorked',
       'PercentSalaryHike', 'PerformanceRating',
       'RelationshipSatisfaction','StandardHours', 'StockOptionLevel',
       'TotalWorkingYears', 'TrainingTimesLastYear', 'WorkLifeBalance',
       'YearsAtCompany', 'YearsInCurrentRole', 'YearsSinceLastPromotion',
       'YearsWithCurrManager']]
y=data[['Attrition']].values.ravel()
plt.figure(figsize=(15,15))
sns.heatmap(X.corr(),annot=True,fmt='.2f',cmap='viridis')

X=data[['Age', 'DailyRate',
       'DistanceFromHome', 'Education', 'EnvironmentSatisfaction', 'HourlyRate',
       'JobInvolvement', 'JobLevel', 'JobSatisfaction',
        'MonthlyIncome', 'MonthlyRate', 'NumCompaniesWorked',
       'PercentSalaryHike', 'PerformanceRating',
       'RelationshipSatisfaction','StandardHours', 'StockOptionLevel',
       'TotalWorkingYears', 'TrainingTimesLastYear', 'WorkLifeBalance',
       'YearsAtCompany', 'YearsInCurrentRole', 'YearsSinceLastPromotion',
       'YearsWithCurrManager']]
y=data[['Attrition']].values.ravel()
X_train,X_test,y_train,y_test=train_test_split(X,y,random_state=0)
log_reg=LogisticRegression(C=1000,max_iter=10000)
log_reg.fit(X_train,y_train)
print('--------------------------------------------------------------------------')
print('Logistic Regression:')
print('Traning Model accruracy scores: {:.3f}'.format(log_reg.score(X_train,y_train)))
print('Test Model accruracy scores: {:.3f}'.format(log_reg.score(X_test,y_test)))
print('--------------------------------------------------------------------------')

"""**Observation** 84% accuracy??? Not bad for a start... however, let us find method to improve this further.

In the next step, we shall be working to increase the efficiency further.

![](https://content.thriveglobal.com/wp-content/uploads/2018/11/s3.jpg?w=1200&crop=0,0,100,105)
"""

data_dummies=pd.get_dummies(data)
features=data_dummies[['Age', 'DailyRate', 'DistanceFromHome', 'Education', 'EmployeeCount',
       'EmployeeNumber', 'EnvironmentSatisfaction', 'HourlyRate',
       'JobInvolvement', 'JobLevel', 'JobSatisfaction', 'MonthlyIncome',
       'MonthlyRate', 'NumCompaniesWorked', 'PercentSalaryHike',
       'PerformanceRating', 'RelationshipSatisfaction', 'StandardHours',
       'StockOptionLevel', 'TotalWorkingYears', 'TrainingTimesLastYear',
       'WorkLifeBalance', 'YearsAtCompany', 'YearsInCurrentRole',
       'YearsSinceLastPromotion', 'YearsWithCurrManager', 'BusinessTravel_Non-Travel',
       'BusinessTravel_Travel_Frequently', 'BusinessTravel_Travel_Rarely',
       'Department_Human Resources', 'Department_Research & Development',
       'Department_Sales', 'EducationField_Human Resources',
       'EducationField_Life Sciences', 'EducationField_Marketing',
       'EducationField_Medical', 'EducationField_Other',
       'EducationField_Technical Degree', 'Gender_Female', 'Gender_Male',
       'JobRole_Healthcare Representative', 'JobRole_Human Resources',
       'JobRole_Laboratory Technician', 'JobRole_Manager',
       'JobRole_Manufacturing Director', 'JobRole_Research Director',
       'JobRole_Research Scientist', 'JobRole_Sales Executive',
       'JobRole_Sales Representative', 'MaritalStatus_Divorced',
       'MaritalStatus_Married', 'MaritalStatus_Single', 'Over18_Y',
       'OverTime_No', 'OverTime_Yes']]
X=features.values
y=data_dummies[['Attrition_Yes']].values.ravel()
X_train,X_test,y_train,y_test=train_test_split(X,y,random_state=0)
log_reg=LogisticRegression(C=1000,max_iter=10000)
log_reg.fit(X_train,y_train)
print('--------------------------------------------------------------------------')
print('Logistic Regression:')
print('Traning Model accruracy scores: {:.3f}'.format(log_reg.score(X_train,y_train)))
print('Test Model accruracy scores: {:.3f}'.format(log_reg.score(X_test,y_test)))
print('--------------------------------------------------------------------------')

"""![](https://images.squarespace-cdn.com/content/v1/5949fa712994cac7d8ebd5f3/1544567194263-BX0S7PVPZU4PC8SC9CGO/ke17ZwdGBToddI8pDm48kAqSCtZ9RC6QXaK0A8UwWmhZw-zPPgdn4jUwVcJE1ZvWEtT5uBSRWt4vQZAgTJucoTqqXjS3CfNDSuuf31e0tVEHY6Goe095UwrRcBaZ48jcvr1vIHfdQnnc9Te-C7rAhJuG45vQwBxdpDrCGUSSl5w/90percent.png)"""